 ###第二周：动词的世界



回顾下上周的。

- python是种编程语言，通过python解释器在电脑上运行。

- 在交互模式（有<<<的）下输入python命令，可以及时看到结果，比如显示"Hi, python", 计算 1+ 2。

- 如果输了解释器无法识别的命令，它就会提示错误

- 可以把python语句组合起来，写在文件里，并执行那个文件。


####2.1 模块 


运行文件时，最后点了Run Module，意思就是“运行模块”。python里，一个文件对应一个**模块(Module)**。我们把python语句组合起来放文件（模块）里，以实现复杂功能。同样，也可把多个文件（模块）组合在一起。

这样有很多好处，首先，如果把一个大型程序(有成千上万行), 都放一个文件里，它会变得不好阅读，发生错误也不好改。模块化便于阅读和     改错。其他好处以后再介绍~




####2.2 变量，函数


**2.2.1 一个例子** 


记得上周的例子么?为什么程序会唱歌？原理就是让电脑发声，并控制声音的频率（也就是音调）和时间。

来分析一下它的代码（读别人的程序是学习编程的好方法，和学写作一样）

    import winsound
    X = 1
    Y = 0.5 
    _s = 392 * X 
    _L = 440 * X 
    D = 524 * X 
    R = 578 * X 
    M = 660 * X 
    F = 698 * X 
    S = 784 * X 
    L = 880 * X 
    T = 500 
    winsound.Beep (_L,T)
    winsound.Beep (_L,T / 2) 
    winsound.Beep (_s,T / 2) 
    winsound.Beep (_L,T)
    winsound.Beep (_L,T / 2) 
    winsound.Beep (_L,T / 2)
    winsound.Beep (D,T )
    winsound.Beep (R,T / 2)
    winsound.Beep (D,T / 2) 
    winsound.Beep (_L,T * 2)
    time.sleep(Y) 

    import winsound

意思是**导入**winsound模块。导入之后有神马用？先别急~

    X = 1
    Y = 0.5

人有叫张三，李四，X，Y也是名字，python里称为“**变量**”。就像把李四和某个人关联起来，X = 1是把X和1关联起来，python中叫给变量“**赋值**”。


    winsound.Beep(_L, T)

Beep意思是“嘟嘟响”，联系到程序原理是控制声音的频率和时间，我们猜想Beep括号后面的_L,和T就是这两个值。Beep(_L, T)用汉语描述：发出嘟嘟声，声音的频率和长度分别是_L和T。

python中，将Beep称为“**函数**”，括号里的是函数的“**参数**”。“函数”就像动词，可以实现一定功能，“参数”是对动作的描述。如：吃（饭），喝（水）。数学中也有函数，如f(x)，函数名是f,参数是x。

winsound.Beep是意思就是**调用**winsound模块里的函数Beep。函数“存在”于模块里，导入后能被其他文件（模块）使用。

winsound.Beep(_L, T)这一行讲了什么就很清晰了。

**2.2.2 函数**


总结一下：

- 变量可以被赋值，如X = 1.
- 函数实现一定功能（它的英文就是Function），好比动词
- 函数有一定参数，也可以无参数。它好比对动词的描述。
- 函数可以被调用，调用会产生一定结果


这些东西不用刻意记，后面自然会熟悉的


数学中可以定义函数f(x) = x + 1. python里也能**定义**函数

    def sayhello():
        print "hello"
    sayhello()


上面的函数sayhello没有参数，功能是输出"hello"。最后是对sayhello函数的调用。

def是python的关键字，用来定义函数。冒号表示接下来是一个代码块。

    代码块把几行代码组织在一起，就像文章划分段落。python通过行缩进来划分代码块。
    sayhello()是和def sayhello()对齐了，表面之前定义函数的代码块已经完结。 

    def add(x , y):
        return x + y
    z = add(3, 4)
    print z

这个函数有两个参数，返回它们的和。add(3, 4)会**返回**7，然后赋给z，最后的结果就是7.

    函数的返回值：函数调用的一种结果，即返回一个或多个值。

**2.2.3 动词的世界**

在学习定义复杂的函数前，有些事情值得关注。

我们主要和两类东西打交道，数据以及对数据的操作。比如有两组数[1, 2, 3]和[4, 5, 6]，分别求它们的总和、平均值。
sum1 = 1 + 2 + 3. sum2 = 4 + 5 +6.如果定义一个求和函数sum，以后就可以直接调用了。调用时不用知道具体是怎么求和的（就像不需知道Beep如何控制电脑发声）。

    函数利于代码重用，隐藏细节。

函数类似动词，使用函数者以及被函数操作的对象是名词。
假设在打游戏，有两个技能霜冻新星、死亡缠绕，先后对Boss释放，就像是两个函数对一个数据进行操作。

    霜冻新星(Boss)
    死亡缠绕(Boss)

能否把它们结合起来，形成连锁技呢？把连锁技称为NC连击，

     def NC连击(X):
        死亡缠绕(霜冻新星(X))
X是参数。这样当对Boss调用它时，NC连击(Boss)，就实现了上面两个效果。

我们称这NC连击为**复合函数**。就像搭积木，可以把一个个函数组合起来。

有一种新技能，效果是让对方掉500血，但不知道给它取啥名字，怎么办呢。

    lambda (X) : X掉500血

上面用lambda关键字定义了一个**匿名函数**

。意思：它是一个函数，有参数X，效果是让X掉500血。
匿名函数的作用不仅在此，以后会有所体会的。


假设对面有5个小兵[A, B, C, D, E]，我们要把上面的技能都用到它们身上。

     map (lambda (x) : x掉500血, [A, B, C ,D， E])
map是python自带的函数，它接受两个参数，一个函数和一组数据，效果是把该函数施加于所有数据。

    这里把一个函数当作了map函数的参数。函数可以作为参数，也可以作为返回值。
    事实上map函数的返回值就是一个函数。像这样，以函数为参数并返回函数的，叫**高阶函数**

map到底返回神马？别急，不久我们可以自己实现map函数。

嘛，**函数复合**，**匿名函数**，**高阶函数**，它们可谓神器。大家慢慢感受吧==觉得不理解也没关系。刚开始写作文，也不知道排比，比喻，拟人。后面自然就会的。

这和生活中的动作是一样的，一套组合拳形成太极拳；有些动作要的是效果，何必知道它叫啥；老师发出一个指挥（这是个动作），内容（参数）是大家（名词）都去扫地（动作）。

这些特性使得写python程序更加自然，高效，优雅。

    注：称它们为函数式特性。函数式编程还有很多有趣的，但有些不被python支持。有兴趣的可以看看Ruby, Haskell..


####2.3 更多 

大家可以看看其他教程，或网上的文章。自己写写有用的函数。并尝试用一用函数复合，匿名函数，高阶函数。

参考：

实现：

    sum() 求和
    rev() 求均值
  
使用：

     filter() 按条件过滤掉一些数据
     reduce()


搜索、了解“函数式编程”
